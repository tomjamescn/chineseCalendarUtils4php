<?php namespace tomjamescn\chineseCalendarUtils;


class ChineseCalendarUtils{


    public $dateFormat = 'Y-m-d';

    public $specialDateJsonString = '{"tradingDateList":["2009-01-04","2009-01-24","2009-02-01","2009-05-31","2009-09-27","2009-10-10","2010-02-20","2010-02-21","2010-06-12","2010-06-13","2010-09-19","2010-09-25","2010-09-26","2010-10-09","2011-01-30","2011-02-12","2011-04-02","2011-10-08","2011-10-09","2012-01-29","2012-03-31","2012-04-01","2012-04-28","2012-09-29","2013-01-05","2013-01-06","2013-02-16","2013-02-17","2013-04-07","2013-04-27","2013-04-28","2013-06-08","2013-06-09","2013-09-22","2013-09-29","2013-10-12","2014-01-26","2014-02-08","2014-05-04","2014-09-28","2014-10-11","2015-01-04","2015-02-15","2015-02-28","2015-09-06","2015-10-10","2016-02-06","2016-02-14","2016-06-12","2016-09-18","2016-10-08","2016-10-09","2017-01-22","2017-02-04","2017-04-01","2017-05-27","2017-09-30"],"notTradingDateList":["2009-01-02","2009-01-03","2009-01-25","2009-01-26","2009-01-27","2009-01-28","2009-01-29","2009-01-30","2009-01-31","2009-04-04","2009-04-05","2009-04-06","2009-05-01","2009-05-02","2009-05-03","2009-05-28","2009-05-29","2009-05-30","2009-10-01","2009-10-02","2009-10-03","2009-10-04","2009-10-05","2009-10-06","2009-10-07","2009-10-08","2009-01-01","2010-01-02","2010-01-03","2010-01-25","2010-01-26","2010-01-27","2010-01-28","2010-01-29","2010-01-30","2010-01-31","2010-04-04","2010-04-05","2010-04-06","2010-05-01","2010-05-02","2010-05-03","2010-05-28","2010-05-29","2010-05-30","2010-10-01","2010-10-02","2010-10-03","2010-10-04","2010-10-05","2010-10-06","2010-10-07","2010-10-08","2010-01-01","2011-01-02","2011-01-03","2011-01-25","2011-01-26","2011-01-27","2011-01-28","2011-01-29","2011-01-30","2011-01-31","2011-04-04","2011-04-05","2011-04-06","2011-05-01","2011-05-02","2011-05-03","2011-05-28","2011-05-29","2011-05-30","2011-10-01","2011-10-02","2011-10-03","2011-10-04","2011-10-05","2011-10-06","2011-10-07","2011-10-08","2011-01-01","2012-01-02","2012-01-03","2012-01-25","2012-01-26","2012-01-27","2012-01-28","2012-01-29","2012-01-30","2012-01-31","2012-04-04","2012-04-05","2012-04-06","2012-05-01","2012-05-02","2012-05-03","2012-05-28","2012-05-29","2012-05-30","2012-10-01","2012-10-02","2012-10-03","2012-10-04","2012-10-05","2012-10-06","2012-10-07","2012-10-08","2012-01-01","2013-01-02","2013-01-03","2013-01-25","2013-01-26","2013-01-27","2013-01-28","2013-01-29","2013-01-30","2013-01-31","2013-04-04","2013-04-05","2013-04-06","2013-05-01","2013-05-02","2013-05-03","2013-05-28","2013-05-29","2013-05-30","2013-10-01","2013-10-02","2013-10-03","2013-10-04","2013-10-05","2013-10-06","2013-10-07","2013-10-08","2013-01-01","2014-01-02","2014-01-03","2014-01-25","2014-01-26","2014-01-27","2014-01-28","2014-01-29","2014-01-30","2014-01-31","2014-04-04","2014-04-05","2014-04-06","2014-05-01","2014-05-02","2014-05-03","2014-05-28","2014-05-29","2014-05-30","2014-10-01","2014-10-02","2014-10-03","2014-10-04","2014-10-05","2014-10-06","2014-10-07","2014-10-08","2014-01-01","2015-01-02","2015-01-03","2015-01-25","2015-01-26","2015-01-27","2015-01-28","2015-01-29","2015-01-30","2015-01-31","2015-04-04","2015-04-05","2015-04-06","2015-05-01","2015-05-02","2015-05-03","2015-05-28","2015-05-29","2015-05-30","2015-10-01","2015-10-02","2015-10-03","2015-10-04","2015-10-05","2015-10-06","2015-10-07","2015-10-08","2015-01-01","2016-01-02","2016-01-03","2016-01-25","2016-01-26","2016-01-27","2016-01-28","2016-01-29","2016-01-30","2016-01-31","2016-04-04","2016-04-05","2016-04-06","2016-05-01","2016-05-02","2016-05-03","2016-05-28","2016-05-29","2016-05-30","2016-10-01","2016-10-02","2016-10-03","2016-10-04","2016-10-05","2016-10-06","2016-10-07","2016-10-08","2016-01-01","2017-01-02","2017-01-03","2017-01-25","2017-01-26","2017-01-27","2017-01-28","2017-01-29","2017-01-30","2017-01-31","2017-04-04","2017-04-05","2017-04-06","2017-05-01","2017-05-02","2017-05-03","2017-05-28","2017-05-29","2017-05-30","2017-10-01","2017-10-02","2017-10-03","2017-10-04","2017-10-05","2017-10-06","2017-10-07","2017-10-08","2017-01-01"]}';

    public $specialDateArray = [];

    public function __construct()
    {
        $this->specialDateArray = json_decode($this->specialDateJsonString, true);
    }

    public function isTradingDay($date) {
        $date = date($this->dateFormat, strtotime($date));


        if (in_array($date, $this->specialDateArray['notTradingDateList'])) {
            return false;
        }

        if (in_array($date, $this->specialDateArray['tradingDateList'])) {
            return true;
        }

        $weekDay = date('N', strtotime($date));

        if ($weekDay >= 1 && $weekDay <= 5) {
            return true;
        }else {
            return false;
        }
    }







}